{
    "class_select": {
      "text": "Choose your starting class.",
      "choices": [
        { "label": "Warrior", "next": "forest_intro", "effects": [{ "type": "set_class", "class_id": "warrior" }] },
        { "label": "Rogue", "next": "forest_intro", "effects": [{ "type": "set_class", "class_id": "rogue" }] },
        { "label": "Mage", "next": "forest_intro", "effects": [{ "type": "set_class", "class_id": "mage" }] },
        { "label": "Commoner", "next": "forest_intro", "effects": [{ "type": "set_class", "class_id": "commoner" }] }
      ]
    },
    "forest_intro": {
      "text": "You leave your village behind and set out along the forest road toward the capital.",
      "next": "forest_scream"
    },
    "forest_scream": {
      "text": "A sudden scream cuts through the trees.",
      "choices": [
        { "label": "Investigate", "next": "emma_encounter" },
        { "label": "Ignore it (not implemented)", "next": "forest_scream" }
      ]
    },
    "emma_encounter": {
      "text": "You find a young adventurer backed against a tree. Three goblin corpses lie nearby. One goblin remains, snarling.",
      "effects": [{ "type": "start_battle", "enemy_id": "goblin_grunt" }],
      "next": "emma_join"
    },
    "emma_join": {
      "text": "After the fight, she steadies her breathing. “I had them… until I didn’t.”\n\nShe introduces herself as Emma, also heading to the capital. After a moment, she nods. “Alright. Let’s go together.”",
      "effects": [{ "type": "add_party_member", "member_id": "emma" }],
      "next": "forest_ambush"
    },
    "forest_ambush": {
      "text": "Rustling. Three goblins step onto the path, fanning out with practiced cruelty.",
      "effects": [{ "type": "start_battle", "enemy_id": "goblin_pack_3" }],
      "next": "post_ambush_menu"
    },
    "post_ambush_menu": {
      "text": "Emma leans against a tree, gulping air. \"We should regroup before another patrol shows up.\"",
      "effects": [
        {
          "type": "enter_game_menu",
          "message": "You take a moment to rest, patch gear, and talk before pressing on."
        }
      ],
      "next": "forest_aftermath"
    },
    "forest_aftermath": {
      "text": "The forest goes quiet again. Emma exhales. “Okay. Now we’re even.”",
      "effects": [
        {
          "type": "enter_game_menu",
          "message": "End of demo slice. Rest at camp and try the Travel option to inspect nearby areas."
        }
      ],
      "next": "demo_slice_complete"
    },
    "demo_slice_complete": {
      "text": "The road ahead is closed in this vertical slice. Continue exploring from camp or tackle the Ambush again."
    },
    "village_return_entry": {
      "text": "Familiar roofs. Stares. The village elder’s shutters quiver as you pass.",
      "effects": [
        {
          "type": "enter_game_menu",
          "message": "Villagers quietly track your every step. What will you do next?"
        }
      ]
    },
    "forest_deeper_entry": {
      "text": "The trees crowd closer. Every twig-snap sounds like a warning.",
      "effects": [
        {
          "type": "enter_game_menu",
          "message": "The air feels heavy and waiting. Best take stock before pushing onward."
        }
      ]
    }
  }
  